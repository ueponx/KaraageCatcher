# 唐揚げキャッチゲーム - 開発継続用プロンプト

## ゲーム概要
鳥居の上に立つキャラクターが唐揚げとレモンを投げ、下にいるプレイヤーキャラクターが左右移動とジャンプで唐揚げをキャッチするゲームです。制限時間60秒でどれだけ高得点を取れるかを競います。

## 現在の実装仕様

### キャンバス設定
- サイズ: 800 x 600ピクセル
- 背景: 上部が空（水色）、下部が地面（緑色）

### キャラクター配置
- **投げるキャラクター（鳥居の上）**
  - x座標: 400
  - y座標: 360
  - サイズ: 40 x 50ピクセル
  - 投げる腕のアニメーション付き

- **プレイヤーキャラクター（地上）**
  - 初期x座標: 400
  - 初期y座標: 480
  - サイズ: 40 x 60ピクセル
  - 移動速度: 5ピクセル/フレーム
  - ジャンプ力: 15
  - 重力: 0.6
  - 地上y座標: 480

### 鳥居の配置
- 左柱: x=200, y=280, 幅20, 高さ240
- 右柱: x=580, y=280, 幅20, 高さ240
- 上の横木（太）: y=260, 高さ15
- 上の横木（細）: y=250, 高さ10
- 下の横木: y=310, 高さ12
- 色: 茶色系（#D2691E, #8B4513）

### アイテム仕様
- **唐揚げ（茶色の球体）**
  - 出現確率: 90%
  - 効果: +1点
  - サイズ: 半径15ピクセル
  - 色: #D2691E（メイン）、#F4A460（ハイライト）

- **レモン（黄色の楕円形）**
  - 出現確率: 10%
  - 効果: 2秒間スタン（動けなくなる）
  - サイズ: 半径15ピクセル
  - 色: #FFD700（メイン）、#FFED4E（ハイライト）

### 物理パラメータ
- **投げる動作**
  - 生成頻度: 0.4秒ごとに1回
  - 1回あたり4個のアイテムを投げる
  - 投げる角度: -50度から-130度のランダム範囲
  - 投げる力: 7～12のランダム値
  - 重力加速度: 0.3

- **放物運動**
  - 各アイテムは独立した velocityX と velocityY を持つ
  - 毎フレーム重力が velocityY に加算される
  - 画面外（x < -50 または x > 850 または y > 600）で削除

### ゲームルール
- **制限時間**: 60秒
- **操作方法**:
  - 左右移動: ← → キーまたは A/D キー
  - ジャンプ: スペースキー
- **スコアリング**:
  - 唐揚げをキャッチ: +1点
  - レモンをキャッチ: 2秒間スタン（その間は移動・ジャンプ不可、唐揚げも取れない）
- **衝突判定**: プレイヤー中心とアイテム間の距離が35ピクセル以内

### UI要素
- **左上**: 現在のスコア表示
- **右上**: 残り時間（秒表示）
- **タイマーバー**: 残り時間の視覚的表示（緑→黄→赤のグラデーション）
- **スタン表示**: スタン中は画面中央上部に「😵 スタン中！ 😵」と表示
- **左下**: 操作説明
- **ゲームオーバー画面**: 最終スコア表示と「もう一度プレイ」ボタン

## 技術仕様
- **実装言語**: バニラHTML/CSS/JavaScript
- **描画**: Canvas 2D API
- **アニメーション**: requestAnimationFrame使用
- **フレームレート**: 60FPS想定

## 主要な関数
- `drawTorii()`: 鳥居の描画
- `drawThrower()`: 投げるキャラクターの描画（アニメーション付き）
- `drawPlayer()`: プレイヤーキャラクターの描画
- `drawKaraage()`: 唐揚げの描画
- `drawLemon()`: レモンの描画
- `createItem()`: アイテムの生成（1回で4個）
- `updatePlayer()`: プレイヤーの移動・ジャンプ処理
- `updateItems()`: アイテムの放物運動と衝突判定
- `gameLoop()`: メインゲームループ
- `updateTimer()`: タイマー更新（1秒ごと）
- `endGame()`: ゲーム終了処理
- `restartGame()`: ゲーム再開処理

## カスタマイズ可能なパラメータ

### ゲームバランス
```javascript
// アイテム生成頻度（秒）
0.4

// 1回に投げる数
4

// 唐揚げの出現確率
0.9 (90%)

// レモンのスタン時間（秒）
2

// 制限時間（秒）
60
```

### 物理パラメータ
```javascript
// プレイヤー移動速度
speed: 5

// ジャンプ力
jumpPower: 15

// プレイヤー重力
gravity: 0.6

// アイテム重力
gravity: 0.3

// 投げる角度範囲（度）
-50 to -130

// 投げる力の範囲
7 to 12
```

### キャラクター位置
```javascript
// 投げるキャラクター
x: 400, y: 360

// プレイヤー初期位置
x: 400, y: 480

// 鳥居の上部
y: 250-275

// 鳥居の柱
y: 280-520
```

## 開発時の注意点
1. バニラHTML/CSS/JavaScriptで実装（外部ライブラリなし）
2. 単一HTMLファイルで完結
3. レスポンシブ対応は未実装（800x600固定）
4. スプライト画像は使用せず、Canvas APIで図形描画
5. すべての物理演算はフレームベース（60FPS想定）

## 改良案・拡張可能な機能
- ハイスコアの記録（localStorage使用）
- 難易度設定（Easy/Normal/Hard）
- パワーアップアイテムの追加
- BGMと効果音の実装
- モバイル対応（タッチ操作）
- キャラクターのカスタマイズ
- ステージ制の導入
- コンボシステムの追加
- アイテムの種類を増やす（ポジティブ/ネガティブ）

## ファイル構成
```
karaage-catch-game.html  # 単一ファイル実装
```

## 実行方法
HTMLファイルをブラウザで開くだけで動作します。最新のChrome, Firefox, Safari, Edgeで動作確認済み。
